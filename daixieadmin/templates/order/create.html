{% extends 'layout.html' %}
{% from 'import/tools.html' import flashed_msg, errors,captcha %}
{% from 'import/tools.html' import error %}

{% block content %}

<h1>创建新订单</h1>
<div class="col-md-8 col-md-offset-2">
    <div class="row">
        <form class="form-horizontal" id="profile-form" method="post" action="{{ url_for('order.create_order') }}" enctype="multipart/form-data">
            {{ form.hidden_tag() }}

            <div class="form-group">
                {{ form.user_email.label(class="col-md-3 control-label") }}
                <div class="col-md-5">
                    <input 
                    value="{{ form.user_email.data or '' }}" 
                    data-ajax-url="{{ url_for('user.j_search_user') }}" 
                    name="user_email" 
                    user_type="user" 
                    type="hidden" 
                    class="select" 
                    placeholder="请选择用户邮箱" 
                    required="required">
                    {{ error(form.errors['user_email']) }}
                </div>
            </div>
            <div class="form-group">
                {{ form.cs_email.label(class="col-md-3 control-label") }}
                <div class="col-md-5">
                    <input 
                    value="{{ form.cs_email.data or '' }}" 
                    data-ajax-url="{{ url_for('admin.j_search_cs') }}" 
                    name="cs_email" 
                    type="hidden" 
                    class="select" 
                    placeholder="请选择客服邮箱" 
                    required="required">
                    {{ error(form.errors['cs_email']) }}
                </div>
            </div>
            <div class="form-group">
                {{ form.solver_email.label(class="col-md-3 control-label") }}
                <div class="col-md-5">
                    <input 
                    value="{{ form.solver_email.data or '' }}" 
                    data-ajax-url="{{ url_for('user.j_search_user') }}" 
                    name="solver_email" 
                    user_type="solver" 
                    type="hidden" 
                    class="select" 
                    placeholder="请选择解题员邮箱" 
                    required="required">
                    {{ error(form.errors['solver_email']) }}
                </div>
            </div>
            <div class="form-group">
                {{ form.require_time.label(class="col-md-3 control-label") }}
                <div class="col-md-5">
                    {{ form.require_time(class='form-control form_datetime') }}
                    {{ error(form.errors['require_time']) }}
                </div>
            </div>
            <div class="form-group">
                {{ form.expect_time.label(class="col-md-3 control-label") }}
                <div class="col-md-5">
                    {{ form.expect_time(class='form-control form_datetime') }}
                    {{ error(form.errors['expect_time']) }}
                </div>
            </div>
            <div class="form-group">
                {{ form.title.label(class="col-md-3 control-label") }}
                <div class="col-md-5">
                    {{ form.title(class='form-control') }}
                    {{ error(form.errors['title']) }}
                </div>
            </div>
            <div class="form-group">
                {{ form.expect_hour.label(class="col-md-3 control-label") }}
                <div class="col-md-5">
                    {{ form.expect_hour(class='form-control') }}
                    {{ error(form.errors['expect_hour']) }}
                </div>
            </div>
            <div class="form-group">
                {{ form.grade.label(class="col-md-3 control-label") }}
                <div class="col-md-5">
                    {{ form.grade(class='form-control') }}
                    {{ error(form.errors['grade']) }}
                </div>
            </div>
            <div class="form-group">
                {{ form.expect_order_price.label(class="col-md-3 control-label") }}
                <div class="col-md-5">
                    {{ form.expect_order_price(class='form-control') }}
                    {{ error(form.errors['expect_order_price']) }}
                </div>
            </div>
            <div class="form-group">
                {{ form.description.label(class="col-md-3 control-label") }}
                <div class="col-md-5">
                    {{ form.description(class='form-control') }}
                    {{ error(form.errors['description']) }}
                </div>
            </div>
            <div class="form-group">
                {{ form.supp_info.label(class="col-md-3 control-label") }}
                <div class="col-md-5">
                    {{ form.supp_info }}
                     {{ error(form.errors['supp_info']) }}
                </div>
            </div>
            <div class="form-group">
                {{ form.extra_item.label(class="col-md-3 control-label") }}
                <div class="col-md-5">
                    {{ form.extra_item(class='form-control') }}
                    {{ error(form.errors['extra_item']) }}
                </div>
            </div>
            <div class="form-group">
                {{ form.log.label(class="col-md-3 control-label") }}
                <div class="col-md-5">
                    {{ form.log(class='form-control', style="height:150px;resize:none;") }}
                    {{ error(form.errors['log']) }}
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-5 col-md-offset-3">
                    <input class="btn btn-orange" type="submit" value="提交"/>
                </div>
            </div>
        </form>
    </div>
</div>

{% endblock content %}

{% block js %}
<script>
    create_order.run();
</script>
{% endblock js %}